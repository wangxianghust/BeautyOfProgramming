### 编程之美

##### Chapter1 游戏中遇到的问题
###### 1.5快速找出故障机器
- problem：N个机器，每个机器有一个ID，同时备份一个文件，每个文件在两个机器上备份
现在如果有一个机器宕机了，求该机器的ID，如果两个呢？

- 形式化描述：给定一个数组，除了一个数出现一次外，其他数字均出现两次，求这个出现一次的数字。

- 第一种方法是采用异或，最后的数字就是单个的ID，时间为O(n), 空间为O(1)
- 第二种方法是采用解方程的形式，首先可以计算所有的ID和T，这是一个不变量，如果一台机器宕机，再次计算ID和T1,采用 T-T1即可。

如果有两台机器宕机怎么办？答，那要使用两个方程来解决，如采用ID的乘积，ID的平方和等等。

###### 1.6 饮料供货
- problem： 

###### 1.7 光影切割问题
- problem：求分割线将矩形分割成几部分，三条线不会相交于一点，查询操作：给定矩阵的边界，求其中的区域数量。
- solution1：每次添加一条线，如果增加m个交点，则增加 m+1 个区域，最后区域的数量是 N+M+1，N是直线的数量，M是交点的数量。因此可以先求出每条直线的两两交点，初始化为O(n^2),然后将交点排序，选择边界内的交点数量进行计算即可。
- solution2: 如果查询操作很少的情况下，应该怎么做呢？观察两条边什么时候有交点?答，起始坐标的顺序和结尾坐标顺序相反的时候，如果以左边的为正序，则统计右边的逆序和即可。逆序和的统计使用分治法，类似于merge排序中。

###### 1.8 小飞的电梯调度算法
- problem：有N层楼梯，每层的目的人数是Ni, 求电梯只停一层的话，如何让所有人爬楼梯的层数最小
- solution1: 暴力求解，求出每层需要爬的楼梯数，去最小值，复杂度 O(n^2)
- solution2: 从增量的角度，设当前层为i，选择该层的人数为N2,i层以下的人数是N1, i层以上的人数是N3。如果停在i层，需要的楼梯数是Y,假设变为i+1层，则为 delta(Y) = N1 + N2 - N3，如果delta(Y) < 0，则向上一层。所以可以从第一层进行判定delta(Y)， 直到delta(Y) > 0。复杂度O(n)。

###### 1.9 高效率的安排见面会
- problem: n位学生，对m个宣讲会感兴趣，问如何安排宣讲会，使得宣讲时间最少（保证每个同学的需求可以满足）
- 形式化：图的染色问题，将m个宣讲会表示成m个节点，每位学生感兴趣的宣讲会连一条边（如，1，2，3，则三个点之间都需要边），对于这样一个图，求最小时长的安排，即求最少的颜色将图染色。
- solution:图的最小染色是NP-hard，可以暴力求解加剪枝；可以采用近似算法，如将节点按照度排序，先染度最大的，同时使用这个颜色染其邻居的邻居。如此，直到染完。
- 修改：如果问题是，给定了宣讲会的start，end time,求至少安排几个教师
- 解答：这个同样可以转化为图的染色问题，同时，可以使用多项式的时间求解，解法是按照start排序，遇到start， ret+1, 遇到end则 ret-1， 最后取整个过程中的ret最大值即可。

###### 1.10 双线程高效下载
- problem：